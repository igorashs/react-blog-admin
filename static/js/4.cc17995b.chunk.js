(this["webpackJsonpreact-blog-editor"]=this["webpackJsonpreact-blog-editor"]||[]).push([[4],{41:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(3),r=a(4),l=a(0),i=a.n(l),o=a(12),u=a(10),m=a(9);a(41),t.default=function(){var e=function(){var e=Object(l.useState)(null),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(l.useEffect)((function(){var e=function(){var t=Object(s.a)(c.a.mark((function t(){var a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),t.next=3,Object(m.e)(a);case 3:(s=t.sent).error?("Forbidden"===s.error.message&&Object(u.b)(),console.error("Failed to fetch the data, Try to fetch again in 5sec"),setTimeout(e,5e3)):(Object(u.a)(s),Object(u.c)(s),n(s));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}),[]),a}(),t=Object(l.useState)(null),a=Object(r.a)(t,2),n=a[0],b=a[1],f=Object(l.useState)(!1),p=Object(r.a)(f,2),d=p[0],h=p[1];return Object(l.useEffect)((function(){if(n){var t=e;d&&(t=t.filter((function(e){return e.isPublished}))),b(t)}else b(e)}),[e,d]),i.a.createElement("section",{className:"PostsListSection"},i.a.createElement("section",{className:"Filters"},i.a.createElement("h3",null,"Filters"),i.a.createElement("div",{className:"FiltersOptions"},i.a.createElement("button",{onClick:function(){h(!d)},className:"Filter "+(d?"FilterEnabled":"FilterDisabled")},"Published"))),i.a.createElement("section",{className:"ListMenu"},i.a.createElement(o.b,{to:"/posts/new",className:"MenuBtn"},"Create")),i.a.createElement("ul",{className:"PostsList"},n&&n.map((function(e){return i.a.createElement("li",{className:"PostListItem",key:e._id},i.a.createElement(o.b,{to:{pathname:"/posts/".concat(e._id),state:e}},i.a.createElement("article",null,i.a.createElement("h3",null,e.title.length>200?"".concat(e.title.slice(0,200),"..."):e.title),i.a.createElement("p",null,e.isPublished?"Published "+e.timestamp:e.timestamp))))}))))}}}]);
//# sourceMappingURL=4.cc17995b.chunk.js.map